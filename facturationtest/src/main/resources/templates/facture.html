<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="template::html_head">
</head>

<style type="text/css">

    .ml-20{
        margin-left: 280px;
    }


</style>

<body>
<div th:replace="template :: menu"></div>
<div class="container py-4 mt-4">
    <div class="card">
        <div class="card-header h3 indigo text-black-50 font-weight-bold" th:text="Facture"></div>
        <div class="card-body d-flex justify-content-center">
            <form th:action="@{/enregistrer(id=${factureid})}" method="post" class="col-12 col-lg-10">

                <!--input type="hidden" th:value="${factureid}" name="id"/-->
                <div class="form-group row mt-2" >

                    <div class="col-sm-3 ">
                        <h4>MERSEN MAROC</h4>
                    </div>

                    <div class="col-sm-3 ">
                    </div>

                    <div class="col-sm-3 ">
                    </div>

                    <div class="col-sm-3">
                        <label class=" col-form-label">Ref: </label>
                        <span th:text="${ref}"></span>
                        <br>
                        <label class=" col-form-label">Client: </label>
                        <span th:text="${client}"></span>
                        <br>
                        <label class=" col-form-label">Création: </label>
                        <span th:text="${dateCreation}"></span>
                        <br>
                        <label class=" col-form-label">Echéance: </label>
                        <span th:text="${echeance}"></span>
                        <br>
                    </div>
                </div>

                <div class="container row mt-5" th:if="${lignes}">
                    <table class="table">
                        <tr>
                            <th>Produit</th><th>Prix unitaire</th><th>Unité</th><th>Quantité</th><th>TVA(%)</th><th>Montant HT</th><th>Montant TVA</th><th>Montant TTC</th>
                        </tr>
                        <tr th:each="ligne:${lignes}">
                            <td th:text="${ligne.nomProduit}"></td>
                            <td th:text="${ligne.produit.prixUnitaire}"></td>
                            <td th:text="${ligne.produit.unite}"></td>
                            <td th:text="${ligne.qte}"></td>
                            <td th:text="${ligne.tva}"></td>
                            <td th:text="${ligne.montantHT}"></td>
                            <td th:text="${ligne.montantTVA}"></td>
                            <td th:text="${ligne.montantTTC}"></td>
                        </tr>

                    </table>

                </div>

                <div class="form-group row mt-5" >

                    <div class="col-sm-3">
                        <span th:text="${commentaire}" ></span>
                    </div>

                    <div class="col-sm-3 ">
                    </div>

                    <div class="col-sm-3 ">
                    </div>

                    <div class="col-sm-3">
                        <label class=" col-form-label">Total  HT (DH):</label>
                        <span th:text="${totalHT}" ></span>
                        <br>
                        <label class=" col-form-label">Total TVA (DH):</label>
                        <span th:text="${totalTVA}"></span>
                        <br>
                        <label class=" col-form-label">Total TTC (DH):</label>
                        <span th:text="${totalTTC}"></span>
                        <br>
                    </div>
                </div>


                <button class="btn btn-success mt-4 ml-20" type="submit">Enregistrer</button>
                <button class="btn mt-4 ml-5"><a th:href="@{/delete(id=${factureid})}">Annuler</a></button>
            </form>

        </div>
    </div>
</div>

</body>